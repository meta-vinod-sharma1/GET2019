<div class="row mt-4">
  <div class="col-4 text-center">My Task Tracker</div>
  <div class="col-6 text-right"> <button type="button" class="btn btn-outline-secondary p-0 pl-4 pr-4"
       (click) = "openModel()">New Task</button></div>
       <!--data-toggle="modal" data-target="#myModal"-->
</div>
<hr class="my-hr">
<div class="row">
  <div class="col-md-2 ml-auto mr-5 mt-auto mb-auto">
    <h5 class="text-align-center p-2 ">New</h5>
    <div *ngFor="let t of tasks" class=" ">
      <div class=" my-new-task-div text-left m-2 div-high"  *ngIf="(t.priority == 'high' && t.status=='new')">
        <h5>{{ t.taskTitle}}</h5>
        <p>{{ t.description}}
        </p>
        <button type="button" class="edit-button" (click)="editData(t.taskId)"><i class="fa fa-edit"></i></button>
      </div>
    </div>
    <div *ngFor="let t of tasks" class=" ">
      <div class=" my-new-task-div text-left m-2 div-medium" *ngIf="(t.priority == 'medium' && t.status=='new')">
        <h5>{{ t.taskTitle}}</h5>
        <p>{{ t.description}}
        </p>
        <button type="button" class="edit-button" (click)="editData(t.taskId)"><i class="fa fa-edit"></i></button>
      </div>
    </div>
    <div *ngFor="let t of tasks" class=" ">
      <div class=" my-new-task-div text-left m-2 div-low" *ngIf="(t.priority == 'low' && t.status=='new')">
        <h5>{{ t.taskTitle}}</h5>
        <p>{{ t.description}}
        </p>
        <button type="button" class="edit-button" (click)="editData(t.taskId)"><i class="fa fa-edit"></i></button>
      </div>
    </div>

  </div>
  <div class="col-md-2 m-1 mt-auto mb-auto">
    <h5 class="text-align-center p-2">In Process</h5>
    <div *ngFor="let t of tasks" class=" ">
      <div class=" my-new-task-div text-left m-2 div-high-process" *ngIf="(t.priority == 'high' && t.status=='inProcess')">
        <h5>{{ t.taskTitle}}</h5>
        <p>{{ t.description}}
        </p>
        <button type="button" class="edit-button" (click)="editData(t.taskId)"><i class="fa fa-edit"></i></button>
      </div>
    </div>
    <div *ngFor="let t of tasks" class=" ">
      <div class=" my-new-task-div text-left m-2 div-medium-process" *ngIf="(t.priority == 'medium' && t.status=='inProcess')">
        <h5>{{ t.taskTitle}}</h5>
        <p>{{ t.description}}
        </p>
        <button type="button" class="edit-button" (click)="editData(t.taskId)"><i class="fa fa-edit"></i></button>
      </div>
    </div>
    <div *ngFor="let t of tasks" class=" ">
      <div class=" my-new-task-div text-left m-2 div-low-process" *ngIf="(t.priority == 'low' && t.status=='inProcess')">
        <h5>{{ t.taskTitle}}</h5>
        <p>{{ t.description}}
        </p>
        <button type="button" class="edit-button" (click)="editData(t.taskId)"><i class="fa fa-edit"></i></button>
      </div>
    </div>
  </div>
  <div class="col-md-2 mr-auto ml-5 mt-auto mb-auto">
    <h5 class="text-align-center p-2">Completed</h5>
    <div *ngFor="let t of tasks" class=" ">
      <div class=" my-new-task-div text-left m-2 div-complete" *ngIf="(t.priority == 'high' && t.status=='complete')">
        <h5>{{ t.taskTitle}}</h5>
        <p>{{ t.description}}
        </p>
      </div>
    </div>
    <div *ngFor="let t of tasks" class=" ">
      <div class=" my-new-task-div text-left m-2 div-complete" *ngIf="(t.priority == 'medium' && t.status=='complete')">
        <h5>{{ t.taskTitle}}</h5>
        <p>{{ t.description}}
        </p>
      </div>
    </div>
    <div *ngFor="let t of tasks" class=" ">
      <div class=" my-new-task-div text-left m-2 div-complete" *ngIf="(t.priority == 'low' && t.status=='complete')">
        <h5>{{ t.taskTitle}}</h5>
        <p>{{ t.description}}
        </p>
      </div>
    </div>
  </div>
</div>
<!-- The Modal -->
<div class="backdrop" [ngStyle]="{'display':newTaskModal}"></div>
<div class="modal" tabindex="-1" role="dialog"  [ngStyle]="{'display':newTaskModal}" >
  <div class="modal-dialog modal-lg" role="document" >
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">New Task</h4>
        <button type="button" class="close" (click) = "closeModel()">&times;</button>
      </div>
      <form [formGroup]="myForm" (ngSubmit)="onSubmit()">
        <!-- Modal body -->
        <div class="col-8 mx-auto mt-16px;">
          <div class="form-group">
            <label for="title">Title</label>
            <input type="text" class="form-control" formControlName="taskTitle" id="title">
          </div>
          <div class="form-group">
            <label for="description">Description</label>
            <textarea class="form-control w-70" placeholder="Enter Description" rows="3" formControlName="description"
              id="description" required=""></textarea>
          </div>
          <div class="form-group">
            <label for="priority">Priority:</label>
            <select formControlName="priority" class="form-control" id="priority">
              <option value="low">Low</option>
              <option value="medium">Medium</option>
              <option value="high">High</option>
            </select>
          </div>
        </div>
        <!-- Modal footer  data-dismiss="modal" -->
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">Submit</button>
        </div>
      </form>
    </div>
  </div>
</div>

<!-- The Edit Modal -->
<div class="backdrop" [ngStyle]="{'display':editTaskModal}"></div>
<div class="modal" tabindex="-1" role="dialog"  [ngStyle]="{'display':editTaskModal}" >
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <!-- Modal Header -->
      <div class="modal-header">
        <h4 class="modal-title">Edit Task</h4>
        <button type="button" class="close" (click)="closeModel()">&times;</button>
      </div>
      <form [formGroup]="myFormOne" (ngSubmit)="onEdit()">
        <!-- Modal body -->
        <div class="col-8 mx-auto mt-16px;">
          <div class="form-group">
            <label for="id" class="label">Task Id</label>
            <input type="text" class="form-control " [(ngModel)]="eId" formControlName="taskId" id="title" readonly>
          </div>
          <div class="form-group">
            <label for="title">Title</label>
            <input type="text" class="form-control" [(ngModel)]="eTitle" formControlName="taskTitle" id="title">
          </div>
          <div class="form-group">
            <label for="description">Description</label>
            <textarea class="form-control w-70" placeholder="Enter Description" [(ngModel)]="eDescription" rows="3"
              formControlName="description" id="description" required=""></textarea>
          </div>
          <div class="form-group">
            <label for="priority">Status:</label>
            <select [(ngModel)]="eStatus" formControlName="status" class="form-control" id="priority">
              <option value="new">New </option>
              <option value="inProcess">In Process</option>
              <option value="complete">Completed</option>
            </select>
          </div>
          <div class="form-group">
            <label for="priority">Priority:</label>
            <select [(ngModel)]="ePriority" formControlName="priority" class="form-control" id="priority">
              <option value="low">Low</option>
              <option value="medium">Medium</option>
              <option value="high">High</option>
            </select>
          </div>
        </div>
        <!-- Modal footer  data-dismiss="modal" -->
        <div class="modal-footer">
          <button type="submit" class="btn btn-primary">Submit</button>
        </div>
      </form>
    </div>
  </div>
</div>